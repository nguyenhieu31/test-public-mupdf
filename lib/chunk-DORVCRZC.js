import{a as N,c as Z}from"./chunk-MD4DUP6A.js";import{$a as w,Be as Ue,Bg as nt,Cb as Se,Ce as Be,Da as G,Eb as se,Ec as We,Ee as Ke,F as ue,Fb as L,Fe as je,Gf as et,H as _e,I as Ce,Jb as g,Je as Ge,Kb as f,Ke as $e,Ki as pt,La as a,Li as mt,M as T,N as le,Nb as Ee,Pa as O,Pe as He,Ph as lt,Qe as Xe,Ra as $,Sa as R,Sb as ye,Sf as de,Sg as ot,Sh as ct,Tb as X,Tf as tt,Tg as rt,Ub as Q,Va as b,Ve as Qe,W as xe,Wh as ie,Xd as I,Xh as st,Ya as ce,Yb as Te,Za as s,Zd as J,_a as ve,_f as it,af as Ye,bc as Y,bf as qe,cc as Ie,ce as Ae,db as l,eb as c,f as C,fb as _,fd as me,fe as Re,gb as be,ge as Ne,gf as Je,hb as he,hf as Ze,ia as B,jb as S,ke as De,la as K,mb as x,nb as m,nd as U,ne as Ve,nf as y,ob as Me,of as te,oh as at,pa as j,pb as Pe,qa as W,qe as Fe,rb as ke,sa as A,sb as we,se as ee,tb as Oe,te as ze,u as fe,ub as H,ue as Le,vb as u,wa as h,wb as v,wc as pe,xa as M,xb as E,xc as q,z}from"./chunk-GMSVUTYH.js";var ne=(()=>{let r=class r{watermarkService;fb;constructor(i,e){this.watermarkService=i,this.fb=e}createControl(i,e){let t=[],p=e||this.fb.group({type:i,renderTarget:null,name:null,opacity:100,align:0,rotate:0,x:0,y:0,allowView:!0,allowPrint:!0,range:"all",placeOverContent:!0,_repeatWidth:{value:250,disabled:!0},_repeatHeight:{value:250,disabled:!0},text:"",size:null,color:"#000000",fontName:null,bold:!1,italic:!1,textAlignment:"center",scale:100,imageData:null,_repeat:!1,opacityInput:[100,{updateOn:"blur"}],rotateInput:[0,{updateOn:"blur"}]}),d=(P,...k)=>k.map(V=>p.get(V).valueChanges.subscribe({next:F=>{let re=Math.min(Math.max(F,P.min),P.max);k.forEach(ae=>{p.get(ae)?.setValue(re,{emitEvent:!1})})}}));return t.push(...d({min:0,max:100},"opacity","opacityInput"),...d({min:0,max:9999},"scale"),...d({min:0,max:360},"rotate","rotateInput"),...d({min:1,max:1e3},"_repeatWidth"),...d({min:1,max:1e3},"_repeatHeight"),p.get("_repeat").valueChanges.subscribe({next:P=>{["_repeatHeight","_repeatWidth"].forEach(k=>p.get(k)?.[P?"enable":"disable"]())}})),[p,t]}generateName(i,e){let t=`${i==="Text"?"TXT":"IMG"}_Watermark_`,p=new RegExp(`^${t}(\\d+)`),d=Math.max(0,...e.map(P=>Number((p.exec(P)||[])[1])||0));return`${t}${d+1}`}exportWatermarkChanges(i){return i.map(e=>this.mapControlToWatermark(e)).reduce((e,t)=>this.watermarkService.mergeWatermarkChanges(e,t),[])}importWatermarkChanges(i){return i.reduce((e,t)=>e.concat(...t.text,...t.image),[]).map(e=>this.watermarkService.mapWatermarkToControl(e))}mapControlToWatermark(i){let e=i.getRawValue(),t=e.fontName||null,p=e.size?.value||null,d=e._repeat,P=e._repeatWidth,k=e._repeatHeight;return I.isText(e)?{id:void 0,type:e.type,renderTarget:e.renderTarget,name:e.name,_repeat:d,_repeatWidth:P,_repeatHeight:k,opacity:Number((e.opacity/100).toFixed(2)),align:d?1:e.align,rotate:e.rotate,x:e.x,y:e.y,allowView:e.allowView,allowPrint:e.allowPrint,range:e.range,placeOverContent:e.placeOverContent,repeatWidth:d?P:0,repeatHeight:d?k:0,text:e.text,size:p,color:e.color,fontName:t,bold:e.bold,italic:e.italic,textAlignment:e.textAlignment}:{id:void 0,type:e.type,renderTarget:e.renderTarget,name:e.name,_repeat:d,_repeatWidth:P,_repeatHeight:k,opacity:Number((e.opacity/100).toFixed(2)),align:d?1:e.align,rotate:e.rotate,x:e.x,y:e.y,allowView:e.allowView,allowPrint:e.allowPrint,range:e.range,placeOverContent:e.placeOverContent,repeatWidth:d?P:0,repeatHeight:d?k:0,scale:Number((e.scale/100).toFixed(2)),imageData:e.imageData}}};C(r,"\u0275fac",function(e){return new(e||r)(A(ie),A(ee))}),C(r,"\u0275prov",j({token:r,factory:r.\u0275fac}));let n=r;return n})();var Mt=["*"];function Pt(n,r){if(n&1){let o=S();l(0,"div",5),x("click",function(){let e=h(o).$implicit,t=m();return M(t.onSelectTab(e))}),u(1),g(2,"translate"),c()}if(n&2){let o=r.$implicit,i=m();w("selected",o===i.selectedTab),a(),v(f(2,3,o.title))}}function kt(n,r){if(n&1){let o=S();l(0,"footer",6)(1,"button",7),x("click",function(){h(o);let e=m();return M(e.onCancelClick())}),u(2),g(3,"translate"),c(),l(4,"button",8),x("click",function(){h(o);let e=m();return M(e.onConfirmClick())}),u(5),g(6,"translate"),c()()}n&2&&(a(2),v(f(3,2,"CANCEL")),a(3),v(f(6,4,"SAVE_CHANGES")))}var dt=(()=>{let r=class r{tabs;useFooter=!0;selectTab=new G;confirm=new G;cancelClick=new G;selectedTab;ngOnInit(){this.selectedTab=this.tabs[0]}onSelectTab(i){this.selectedTab=i,this.selectTab.emit(i)}onConfirmClick(){this.confirm.emit()}onCancelClick(){this.cancelClick.emit()}};C(r,"\u0275fac",function(e){return new(e||r)}),C(r,"\u0275cmp",$({type:r,selectors:[["sd-tab-panel2"]],inputs:{tabs:"tabs",useFooter:"useFooter"},outputs:{selectTab:"selectTab",confirm:"confirm",cancelClick:"cancelClick"},standalone:!1,ngContentSelectors:Mt,decls:6,vars:2,consts:[[1,"tabview"],[1,"tabview-header"],["class","tabview-header-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"tabview-body"],["class","footer",4,"ngIf"],[1,"tabview-header-item",3,"click"],[1,"footer"],["size","small","color","white",1,"ep-button",3,"click"],["color","primary","size","small",1,"ep-button",3,"click"]],template:function(e,t){e&1&&(Me(),l(0,"main",0)(1,"header",1),b(2,Pt,3,5,"div",2),c(),l(3,"main",3),Pe(4),c(),b(5,kt,7,6,"footer",4),c()),e&2&&(a(2),s("ngForOf",t.tabs),a(3),s("ngIf",t.useFooter))},dependencies:[X,Q,y],styles:[".tabview[_ngcontent-%COMP%]{display:flex;flex-direction:column}.tabview-header[_ngcontent-%COMP%]{z-index:2;flex:0 0 40px}.tabview-header-item[_ngcontent-%COMP%]{display:inline-block;height:100%;padding:13px 40px;box-sizing:border-box;border:1px solid #DADADA;border-top-left-radius:4px;border-top-right-radius:4px;color:#6c6c6c;font-family:NotoSans-Medium;font-size:14px;line-height:14px;cursor:pointer}.tabview-header-item.selected[_ngcontent-%COMP%]{border-bottom:1px solid transparent;color:#ff6100;background-color:#fff}.tabview-header-item[_ngcontent-%COMP%]:not(.selected){border-top:1px solid transparent;border-right:1px solid transparent;border-left:1px solid transparent}.tabview-body[_ngcontent-%COMP%]{z-index:1;flex:1 1 auto;margin-top:-1px;box-sizing:border-box;border:1px solid #DADADA;background-color:#fff}.footer[_ngcontent-%COMP%]{display:flex;flex:0 0 40px;padding:15px;box-sizing:border-box;border-bottom:1px solid #DADADA;border-left:1px solid #DADADA;border-right:1px solid #DADADA;border-bottom-left-radius:4px;border-bottom-right-radius:4px;background-color:#fff}.footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(1){margin-left:auto}.footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:10px}"],changeDetection:0}));let n=r;return n})();var yt=["textAreaElement"],Tt=n=>["papycon",n],ge=n=>({content:n,className:"with-icon"}),It=()=>({standalone:!0}),Wt=()=>["left","center","right"];function At(n,r){n&1&&(l(0,"section",22)(1,"div",23),_(2,"pu-toggle-button",24),l(3,"span",25),u(4),g(5,"translate"),c()()()),n&2&&(a(4),v(f(5,1,"FILE_WATERMARK_ENABLED_DESCRIPTION")))}function Rt(n,r){if(n&1){let o=S();l(0,"button",11),x("click",function(){h(o);let e=m();return M(e.onMoreMenuClick())}),_(1,"i",26),c()}if(n&2){let o=m();s("disabled",!o.selectedControl),ce("color",o.previewMenuVisible?"primary":"dark")}}function Nt(n,r){if(n&1&&(l(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3"),u(4),g(5,"translate"),_(6,"pu-toggle-button",30),c()(),l(7,"div",29)(8,"h3"),u(9),g(10,"translate"),_(11,"pu-toggle-button",31),c()()()()),n&2){let o=m();s("formGroup",o.previewMenuControls),a(2),w("disabled",!o.previewMenuControls.value.view),a(2),E(" ",f(5,7,"PREVIEW_SCREEN_WATERMARK")," "),a(3),w("disabled",!o.previewMenuControls.value.print),a(2),E(" ",f(10,9,"PREVIEW_WATERMARK_IN_PRINT")," ")}}function Dt(n,r){if(n&1){let o=S();l(0,"div",32),x("click",function(){let e=h(o).$implicit,t=m();return M(t.selectWatermark(e))}),_(1,"i",33),l(2,"span"),u(3),c(),l(4,"i",34),x("click",function(e){let t=h(o).$implicit,p=m();return M(p.openDeleteWatermarkDialog(t,e))}),c()()}if(n&2){let o=r.$implicit,i=m();w("selected",o===i.selectedControl),a(),s("ngClass",L(4,Tt,"papycon-"+(i.WatermarkUtils.isText(o.value)?"textbox":"image"))),a(2),v(o.value.name)}}function Vt(n,r){if(n&1&&_(0,"div",38),n&2){let o=m().$implicit,i=m(2);s("watermarkControl",o)("pageSize",i.pageSize)}}function Ft(n,r){if(n&1&&(be(0),b(1,Vt,1,2,"div",37),he()),n&2){let o=r.$implicit,i=m(2);a(),s("ngIf",i.previewMenuControls.value.view&&o.value.allowView||i.previewMenuControls.value.print&&o.value.allowPrint)}}function zt(n,r){if(n&1&&(l(0,"div",35),b(1,Ft,2,1,"ng-container",36),c()),n&2){let o=m();s("ngStyle",o.previewWatermarkSizeStyles),a(),s("ngForOf",o.currentControls)}}function Lt(n,r){if(n&1&&(l(0,"div",39),_(1,"img",40),c()),n&2){let o=m();a(),s("sdImage",o.previewImage)}}function Ut(n,r){n&1&&_(0,"sd-loader")}function Bt(n,r){if(n&1&&(l(0,"div",29)(1,"h3"),u(2),g(3,"translate"),_(4,"i",56),g(5,"translate"),_(6,"pu-toggle-button",63),c()()),n&2){let o=m(2);w("disabled",!o.selectedControl.value.allowView),a(2),E(" ",f(3,4,"DISPLAY_SCREEN_WATERMARK")," "),a(2),s("tooltip",L(8,ge,f(5,6,"DISPLAY_SCREEN_WATERMARK_TOOLTIP")))}}function Kt(n,r){if(n&1&&(l(0,"div",29)(1,"h3"),u(2),g(3,"translate"),_(4,"i",56),g(5,"translate"),_(6,"pu-toggle-button",64),c()()),n&2){let o=m(2);w("disabled",!o.selectedControl.value.allowPrint),a(2),E(" ",f(3,4,"INCLUDE_WATERMARK_IN_PRINT")," "),a(2),s("tooltip",L(8,ge,f(5,6,"INCLUDE_WATERMARK_IN_PRINT_TOOLTIP")))}}function jt(n,r){if(n&1){let o=S();l(0,"div",65),x("click",function(){let e=h(o).$implicit,t=m(2);return M(t.selectedControl.patchValue({align:e}))}),c()}if(n&2){let o=r.$implicit,i=m(2);w("selected",i.selectedControl.value._repeat||o===i.selectedControl.value.align)}}function Gt(n,r){if(n&1){let o=S();l(0,"div",71),x("mousedown",function(e){let t=h(o).$implicit,p=m(4);return M(p.onKeywordMousedown(e,t))}),u(1),c()}if(n&2){let o=r.$implicit;a(),v(o)}}function $t(n,r){if(n&1&&(l(0,"section",69),b(1,Gt,2,1,"div",70),c()),n&2){let o=m(3);a(),s("ngForOf",o.TextKeywords)}}function Ht(n,r){if(n&1&&(l(0,"div",66)(1,"h3"),u(2),g(3,"translate"),c(),_(4,"textarea",67,0),g(6,"translate"),b(7,$t,2,1,"section",68),c()),n&2){let o=m(2);a(2),v(f(3,3,"ENTER_TEXT")),a(2),s("placeholder",f(6,5,"TEXT_WATERMARK_SETTINGS_PLACEHOLDER")),a(3),s("ngIf",o.WatermarkUtils.isScreenWatermark(o.selectedTab))}}function Xt(n,r){if(n&1){let o=S();l(0,"div",72)(1,"h3"),u(2),g(3,"translate"),c(),l(4,"section",73)(5,"button",74),x("click",function(){h(o);let e=H(12);return M(e.click())}),u(6),g(7,"translate"),c(),_(8,"pu-input",75,1),g(10,"translate"),l(11,"input",76,2),x("change",function(){h(o);let e=H(9),t=H(12),p=m(2);return M(p.onFileChange(t,e))}),c()()()}n&2&&(a(2),v(f(3,4,"ADD_IMAGE")),a(4),v(f(7,6,"SEARCH_FILE")),a(2),s("ngModelOptions",se(10,It))("placeholder",f(10,8,"IMAGE_WATERMARK_SETTINGS_PLACEHOLDER")))}function Qt(n,r){n&1&&(l(0,"div",29)(1,"h3"),u(2),g(3,"translate"),c(),l(4,"section",59)(5,"span",60),u(6),g(7,"translate"),c(),_(8,"pu-input-value",77),c()()),n&2&&(a(2),v(f(3,6,"IMAGE_SIZE")),a(4),v(f(7,8,"IMAGE_SCALE")),a(2),s("max",9999)("min",1)("width",119)("height",30))}function Yt(n,r){if(n&1){let o=S();l(0,"i",89),x("click",function(){let e=h(o).$implicit,t=m(3);return M(t.selectedControl.patchValue({textAlignment:e}))}),c()}if(n&2){let o=r.$implicit,i=m(3);w("selected",i.selectedControl.value.textAlignment===o),s("ngClass","papycon-text-align-"+o)}}function qt(n,r){n&1&&(_(0,"pu-color-palette",90),g(1,"translate"),g(2,"translate")),n&2&&s("customColorLabel",f(1,3,"CUSTOM_COLOR"))("defaultColorLabel",f(2,5,"DEFAULT_COLOR"))("defaultColorPanelExpandedd",!0)}function Jt(n,r){if(n&1){let o=S();l(0,"div",78)(1,"h3"),u(2),g(3,"translate"),c(),l(4,"section",79),_(5,"pu-dropdown",80),l(6,"div",81),x("click",function(){h(o);let e=m(2);return M(e.paletteVisible=!e.paletteVisible)}),_(7,"div",82),c()(),l(8,"section",83),b(9,Yt,1,3,"i",84),_(10,"div",85),l(11,"img",86),x("click",function(){h(o);let e=m(2);return M(e.selectedControl.patchValue({bold:!e.selectedControl.value.bold}))}),c(),l(12,"img",87),x("click",function(){h(o);let e=m(2);return M(e.selectedControl.patchValue({italic:!e.selectedControl.value.italic}))}),c()(),b(13,qt,3,7,"pu-color-palette",88),c()}if(n&2){let o=m(2);a(2),v(f(3,10,"FONT")),a(3),s("options",o.FontSizeOptions),a(2),ve("background-color",o.selectedControl.value.color),a(2),s("ngForOf",se(12,Wt)),a(2),w("selected",o.selectedControl.value.bold),a(),w("selected",o.selectedControl.value.italic),a(),s("ngIf",o.paletteVisible)}}function Zt(n,r){if(n&1){let o=S();l(0,"section",41)(1,"h2"),u(2),g(3,"translate"),c(),b(4,Bt,7,10,"div",42)(5,Kt,7,10,"div",42),l(6,"div",43)(7,"h3"),u(8),g(9,"translate"),c(),l(10,"section",44),b(11,jt,1,2,"div",45),c()(),b(12,Ht,8,7,"div",46)(13,Xt,13,11,"div",47),l(14,"div",48)(15,"h3"),u(16),g(17,"translate"),c(),l(18,"section",49),_(19,"pu-slider",50),l(20,"pu-input",51),x("keydown.enter",function(e){h(o);let t=m();return M(t.onKeyUpEnter(e))}),c()()(),b(21,Qt,9,10,"div",52),l(22,"div",48)(23,"h3"),u(24),g(25,"translate"),c(),l(26,"section",49),_(27,"pu-slider",53),l(28,"pu-input",54),x("keydown.enter",function(e){h(o);let t=m();return M(t.onKeyUpEnter(e))}),c()()(),b(29,Jt,14,13,"div",55),l(30,"div",29)(31,"h3"),u(32),g(33,"translate"),_(34,"i",56)(35,"pu-toggle-button",57),c(),l(36,"div",58)(37,"section",59)(38,"span",60),u(39),g(40,"translate"),c(),l(41,"pu-input-value",61),x("enterKeyup",function(e){h(o);let t=m();return M(t.onKeyUpEnter(e))}),c()(),l(42,"section",59)(43,"span",60),u(44),g(45,"translate"),c(),l(46,"pu-input-value",62),x("enterKeyup",function(e){h(o);let t=m();return M(t.onKeyUpEnter(e))}),c()()()()()}if(n&2){let o=m();s("formGroup",o.selectedControl),a(2),v(f(3,30,o.WatermarkUtils.isText(o.selectedControl.value)?"TEXT_WATERMARK":"IMAGE_WATERMARK")),a(2),s("ngIf",o.WatermarkUtils.isScreenWatermark(o.selectedTab)),a(),s("ngIf",o.WatermarkUtils.isScreenWatermark(o.selectedTab)),a(3),v(f(9,32,"WATERMARK_POSITION")),a(3),s("ngForOf",o.WatermarkAlignments),a(),s("ngIf",o.WatermarkUtils.isText(o.selectedControl.value)),a(),s("ngIf",o.WatermarkUtils.isImage(o.selectedControl.value)),a(3),v(f(17,34,"OPACITY")),a(3),s("max",100)("min",0),a(2),s("ngIf",o.WatermarkUtils.isImage(o.selectedControl.value)),a(3),v(f(25,36,"ROTATION")),a(3),s("max",360)("min",0),a(2),s("ngIf",o.WatermarkUtils.isText(o.selectedControl.value)),a(),w("disabled",!o.selectedControl.value._repeat),a(2),E(" ",f(33,38,"REPEAT")," "),a(2),s("tooltip",L(44,ge,o.repeatDescription)),a(5),v(f(40,40,"HEIGHT_INTERVAL")),a(2),s("max",1e3)("min",1)("width",127)("height",30),a(3),v(f(45,42,"WIDTH_INTERVAL")),a(2),s("max",1e3)("min",1)("width",127)("height",30)}}var ei=[1,2,3,4,0,5,6,7,8],ti=["{{date}}","{{ip-address}}"],ii=[{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10},{label:"12",value:12},{label:"14",value:14},{label:"16",value:16},{label:"18",value:18},{label:"20",value:20},{label:"22",value:22},{label:"24",value:24},{label:"26",value:26},{label:"28",value:28},{label:"36",value:36},{label:"48",value:48},{label:"72",value:72}],gt=(()=>{let r=class r{fb;subscriptionService;contentService;changeDetectorRef;watermarkService;watermarkConfigsService;renderingService;dialogService;toastService;translatePipe;localStorageService;loggingService;textAreaElement;get WatermarkUtils(){return I}get WatermarkAlignments(){return ei}get TextKeywords(){return ti}get FontSizeOptions(){return ii}get pageSize(){return{x:0,y:0,h:842*(J.width>1480?1:.9),w:595*(J.width>1480?1:.9)}}get previewWatermarkSizeStyles(){return I.getPreviewWatermarkSizeStyles(this.pageSize)}get repeatDescription(){return this.translatePipe.transform(I.isText(this.selectedControl?.value)?"TEXT_WATERMARK_REPEAT_DESCRIPTION":"IMAGE_WATERMARK_REPEAT_DESCRIPTION")}tabs=[{title:"SCREEN_AND_PRINT_WATERMARK",value:"SCREEN"},{title:"FILE_WATERMARK",value:"FILE"}];fontNameOptions=[];globalForm;watermarkControls;get currentControls(){return this.filterControls(this.selectedTab)}selectedTab="SCREEN";selectedControl=null;controlSubscriptionMap=new Map;renderingSubscription=null;beforeunloadSubscription=null;get formChanged(){return this.beforeunloadSubscription!==null}paletteVisible=!1;configPanelVisible=!1;previewImage=null;previewMenuVisible=!1;previewMenuControls;constructor(i,e,t,p,d,P,k,V,F,re,ae,_t){this.fb=i,this.subscriptionService=e,this.contentService=t,this.changeDetectorRef=p,this.watermarkService=d,this.watermarkConfigsService=P,this.renderingService=k,this.dialogService=V,this.toastService=F,this.translatePipe=re,this.localStorageService=ae,this.loggingService=_t,this.globalForm=this.fb.group({fileEnabled:!0}),this.watermarkControls=this.fb.array([]),this.previewMenuControls=this.fb.group({view:!0,print:!0})}ngOnInit(){let i=this.localStorageService.get(me.watermarkStorage);U.isDefined(i)&&this.previewMenuControls.setValue(JSON.parse(i),{emitEvent:!1}),this.subscriptionService.push(J.windowResize$.subscribe({next:()=>{this.changeDetectorRef.markForCheck()}}),this.contentService.fontsResponse$.pipe(K({next:e=>{this.fontNameOptions=e.fontList.map(t=>({label:t.label[1042]||t.label[0]||t.name,value:t.name,available:!0}))}})).subscribe({next:()=>this.initWatermarks()}),this.dialogService.dialogEvent$.pipe(T(e=>e.dialogType===N.DELETE),T(e=>e.action==="confirm")).subscribe({next:e=>{this.deleteWatermark(e.data),this.dialogService.closeCurrentActiveDialog()}}),this.previewMenuControls.valueChanges.subscribe({next:e=>{this.localStorageService.set(me.watermarkStorage,JSON.stringify(e))}}))}onKeywordMousedown(i,e){if(!U.isDefined(this.textAreaElement)||!U.isDefined(this.selectedControl)){this.loggingService.common("debug",de.NOT_EXIST,"Selected watermark"),this.loggingService.common("debug",de.INVALID,"Text watermark");return}i.preventDefault();let t=this.textAreaElement?.nativeElement,p=t===document.activeElement,d=t.selectionStart,P=t.selectionEnd;if(p){let k=this.selectedControl.value.text,V=k.slice(0,d),F=d!==k.length?k.slice(d-k.length):"";this.selectedControl.patchValue({text:`${V}${e}${F}`}),t.setSelectionRange(d+e.length,P+e.length)}else this.selectedControl.patchValue({text:`${this.selectedControl.value.text}${e}`})}togglePanelVisible(){this.currentControls.length!==0&&(this.configPanelVisible=!this.configPanelVisible,this.previewMenuVisible=!1)}selectTab(i){this.selectedControl&&!this.validateImageWatermark([this.selectedControl.value])||(this.selectedTab=i.value,this.selectWatermark(this.currentControls[0]||null),this.subscriptionService.push(this.renderPreview().subscribe()))}createWatermark(i){let e=i==="image"?"Image":"Text";if(this.selectedControl&&!this.validateImageWatermark([this.selectedControl.value]))return;let[t,p]=this.watermarkConfigsService.createControl(e);t.patchValue({renderTarget:this.selectedTab,name:this.watermarkConfigsService.generateName(e,this.currentControls.map(d=>d.value.name)),size:this.FontSizeOptions.find(d=>d.value===16),fontName:this.fontNameOptions[0].value},{emitEvent:!1}),this.watermarkControls.push(t),this.controlSubscriptionMap.set(t,p),this.selectWatermark(t,!0),this.subscribeBeforeunload()}openDeleteWatermarkDialog(i,e){e.stopPropagation(),this.dialogService.toggleDialogVisibility(N.DELETE,!0,{title:this.translatePipe.transform("WATERMARK_DELETE_TITLE"),description:this.translatePipe.transform("WATERMARK_DELETE_DESCRIPTION"),size:{width:336,height:280},data:i})}deleteWatermark(i){let e=this.watermarkControls.controls.indexOf(i);this.watermarkControls.removeAt(e),this.controlSubscriptionMap.get(i)?.forEach(t=>t.unsubscribe()),this.controlSubscriptionMap.delete(i),i===this.selectedControl&&(this.selectWatermark(this.currentControls[this.currentControls.length-1],!0),this.configPanelVisible=!1),this.subscriptionService.push(this.renderPreview().subscribe()),this.subscribeBeforeunload()}selectWatermark(i,e=!1){if(!(!e&&this.selectedControl&&!this.validateImageWatermark([this.selectedControl.value]))){if(this.renderingSubscription&&this.renderingSubscription.unsubscribe(),i){let t=i.value;this.renderingSubscription=i.valueChanges.pipe(T(p=>Number.isNaN(p)?Number.isNaN(t):Object.keys(U.diff(p,t)).length!==0),K({next:()=>this.subscribeBeforeunload()}),xe(500),T(p=>this.validateImageWatermark([p])),B(()=>this.renderPreview())).subscribe(),this.subscriptionService.push(this.renderingSubscription)}this.selectedControl=i,this.forceUpdateFormGroupStatus(!!this.selectedControl?.get("_repeat")?.value,["_repeatWidth","_repeatHeight"]),this.configPanelVisible=!!i,this.paletteVisible=!1,this.previewMenuVisible=!1,this.changeDetectorRef.markForCheck()}}saveWatermarks(){let i=this.watermarkConfigsService.exportWatermarkChanges(this.filterControls("SCREEN")),e=this.watermarkConfigsService.exportWatermarkChanges(this.filterControls("FILE"));this.validateImageWatermark(this.currentControls.map(t=>t.value))&&this.subscriptionService.push(le(this.watermarkService.saveChanges("SCREEN",!0,i),this.watermarkService.saveChanges("FILE",!!this.globalForm.get("fileEnabled")?.value,e)).subscribe({next:()=>{this.initWatermarks(),this.toastService.create({icon:"success",content:this.translatePipe.transform("CHANGES_SAVED")})},error:()=>{this.toastService.create({icon:"failed",content:this.translatePipe.transform("ERROR_PAGES_500")})}}))}initWatermarks(){this.subscriptionService.push(le(this.watermarkService.fetchChanges("SCREEN"),this.watermarkService.fetchChanges("FILE")).pipe(z(i=>i.map(e=>({enabled:e.enabled,controls:this.watermarkConfigsService.importWatermarkChanges(e.changes)})))).subscribe({next:([i,e])=>{this.globalForm=this.fb.group({fileEnabled:e.enabled}),this.subscriptionService.push(this.globalForm.valueChanges.subscribe({next:()=>this.subscribeBeforeunload()})),this.selectedControl=null,this.watermarkControls.controls.forEach(t=>this.controlSubscriptionMap.get(t)?.forEach(p=>p.unsubscribe())),this.watermarkControls=this.fb.array([]),this.controlSubscriptionMap=new Map,this.beforeunloadSubscription?.unsubscribe(),this.beforeunloadSubscription=null,[...i.controls,...e.controls].forEach(t=>{let[p,d]=this.watermarkConfigsService.createControl(t.value.type,t);t.patchValue({size:this.FontSizeOptions.find(P=>P.value===t.value.size),fontName:t.value.fontName},{emitEvent:!1}),this.watermarkControls.push(t),this.controlSubscriptionMap.set(t,d)}),this.selectWatermark(this.watermarkControls.controls.filter(t=>t.value.renderTarget===this.selectedTab)[0]||null),this.changeDetectorRef.markForCheck(),this.subscriptionService.push(this.renderPreview().subscribe())}}))}onFileChange(i,e){let t=Array.from(i.files||[])[0];i.value="",t&&this.subscriptionService.push(ct.fromFile(t).pipe(B(p=>this.watermarkService.renderAppearance(p,!1))).subscribe({next:p=>{this.selectedControl?.get("imageData")?.setValue(p),e.writeValue(t.name||"")},error:()=>{this.toastService.create({icon:"failed",content:this.translatePipe.transform("FORMAT_ERROR")})}}))}onMoreMenuClick(){this.previewMenuVisible=!this.previewMenuVisible}onKeyUpEnter(i){i.target instanceof HTMLInputElement&&i.target.blur()}filterControls(i){return this.watermarkControls.controls.filter(e=>e.value.renderTarget===i)}renderPreview(){return ue(()=>(this.previewImage=null,this.changeDetectorRef.markForCheck(),fe(this.watermarkConfigsService.exportWatermarkChanges(this.currentControls)))).pipe(B(i=>this.renderingService.renderWatermarks(i,100)),K({next:i=>{this.previewImage=i,this.changeDetectorRef.markForCheck()}}),z(()=>{}))}subscribeBeforeunload(){this.beforeunloadSubscription||(this.beforeunloadSubscription=_e(window,"beforeunload").subscribe({next:i=>i.preventDefault()}),this.subscriptionService.push(this.beforeunloadSubscription))}validateImageWatermark(i){let e=i.some(t=>I.isImage(t)&&!t.imageData);return e&&this.toastService.create({icon:"failed",content:this.translatePipe.transform("WATERMARK_NEED_IMAGE")}),!e}forceUpdateFormGroupStatus(i,e,t=!1){let p=i?"enable":"disable";Ce(0).subscribe({next:()=>e.forEach(d=>this.selectedControl?.get(d)?.[p]({emitEvent:t}))})}};C(r,"\u0275fac",function(e){return new(e||r)(O(ee),O(q),O(at),O(Ee),O(ie),O(ne),O(ot),O(Z),O(et),O(y),O(it),O(tt))}),C(r,"\u0275cmp",$({type:r,selectors:[["sd-watermark-configs"]],viewQuery:function(e,t){if(e&1&&ke(yt,5),e&2){let p;we(p=Oe())&&(t.textAreaElement=p.first)}},standalone:!1,features:[Se([q])],decls:31,vars:26,consts:[["textAreaElement",""],["fileNameForm",""],["fileForm",""],[3,"selectTab","confirm","tabs"],[1,"config",3,"formGroup"],["class","config-global",4,"ngIf"],[1,"config-toolbar"],["size","tiny","color","dark",1,"ep-button",3,"click"],[1,"papycon","papycon-plus3"],[1,"right-button"],["class","ep-text-button",3,"disabled","click",4,"ngIf"],[1,"ep-text-button",3,"click","disabled"],[1,"papycon","papycon-show-panel"],["class","more-menu-container",3,"formGroup",4,"ngIf"],[1,"config-view"],[1,"config-list"],["class","config-list-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"config-preview"],["class","preview-watermark",3,"ngStyle",4,"ngIf"],["class","preview-watermark",4,"ngIf"],[4,"ngIf"],["class","config-panel",3,"formGroup",4,"ngIf"],[1,"config-global"],[1,"config-global-item"],["formControlName","fileEnabled"],[1,"config-global-item-content"],[1,"papycon","papycon-more-symbol4"],[1,"more-menu-container",3,"formGroup"],[1,"more-menu"],[1,"config-panel-item","input"],["formControlName","view"],["formControlName","print"],[1,"config-list-item",3,"click"],[3,"ngClass"],[1,"config-list-item-button","papycon","papycon-minus2",3,"click"],[1,"preview-watermark",3,"ngStyle"],[4,"ngFor","ngForOf"],["sdWatermark","","ondragstart","return false","class","watermark-view",3,"watermarkControl","pageSize",4,"ngIf"],["sdWatermark","","ondragstart","return false",1,"watermark-view",3,"watermarkControl","pageSize"],[1,"preview-watermark"],[3,"sdImage"],[1,"config-panel",3,"formGroup"],["class","config-panel-item input",3,"disabled",4,"ngIf"],[1,"config-panel-item","align"],[1,"align-display"],["class","align-display-item",3,"selected","click",4,"ngFor","ngForOf"],["class","config-panel-item text",4,"ngIf"],["class","config-panel-item image",4,"ngIf"],[1,"config-panel-item","slider"],[1,"slider-container"],["formControlName","opacity",1,"slider-slider",3,"max","min"],["size","tiny","formControlName","opacityInput",1,"slider-input",3,"keydown.enter"],["class","config-panel-item input",4,"ngIf"],["formControlName","rotate",1,"slider-slider",3,"max","min"],["size","tiny","formControlName","rotateInput",1,"slider-input",3,"keydown.enter"],["class","config-panel-item font",4,"ngIf"],[1,"papycon","papycon-questionmark",3,"tooltip"],["formControlName","_repeat"],[1,"input-section"],[1,"input-container"],[1,"input-title"],["formControlName","_repeatHeight",1,"input-input-value",3,"enterKeyup","max","min","width","height"],["formControlName","_repeatWidth",1,"input-input-value",3,"enterKeyup","max","min","width","height"],["formControlName","allowView"],["formControlName","allowPrint"],[1,"align-display-item",3,"click"],[1,"config-panel-item","text"],["formControlName","text",1,"text-input",3,"placeholder"],["class","text-button-container",4,"ngIf"],[1,"text-button-container"],["class","text-button",3,"mousedown",4,"ngFor","ngForOf"],[1,"text-button",3,"mousedown"],[1,"config-panel-item","image"],[1,"image-container"],["color","white","size","tiny",1,"ep-button",3,"click"],["disabled","","ngModel","",1,"image-input",3,"ngModelOptions","placeholder"],["type","file","hidden","",3,"change"],["formControlName","scale",1,"input-input-value",3,"max","min","width","height"],[1,"config-panel-item","font"],[1,"font-basic"],["formControlName","size",1,"font-basic-size",3,"options"],[1,"font-basic-color-container",3,"click"],[1,"font-basic-color"],[1,"font-more"],["class","papycon",3,"selected","ngClass","click",4,"ngFor","ngForOf"],[1,"font-divider"],["ngSrc","assets/icons/bold-text.svg","width","28","height","28",3,"click"],["ngSrc","assets/icons/italic-text.svg","width","28","height","28",3,"click"],["formControlName","color",3,"customColorLabel","defaultColorLabel","defaultColorPanelExpandedd",4,"ngIf"],[1,"papycon",3,"click","ngClass"],["formControlName","color",3,"customColorLabel","defaultColorLabel","defaultColorPanelExpandedd"]],template:function(e,t){e&1&&(l(0,"h1"),u(1),g(2,"translate"),c(),l(3,"sd-tab-panel2",3),x("selectTab",function(d){return t.selectTab(d)})("confirm",function(){return t.saveWatermarks()}),l(4,"main",4),b(5,At,6,3,"section",5),l(6,"section",6)(7,"button",7),x("click",function(){return t.createWatermark("image")}),_(8,"i",8),u(9),g(10,"translate"),c(),l(11,"button",7),x("click",function(){return t.createWatermark("text")}),_(12,"i",8),u(13),g(14,"translate"),c(),l(15,"div",9),b(16,Rt,2,2,"button",10),l(17,"button",11),x("click",function(){return t.togglePanelVisible()}),_(18,"i",12),c()(),b(19,Nt,12,11,"div",13),c(),l(20,"section",14)(21,"section",15)(22,"h2"),u(23),g(24,"translate"),c(),b(25,Dt,5,6,"div",16),c(),l(26,"section",17),b(27,zt,2,2,"div",18)(28,Lt,2,1,"div",19)(29,Ut,1,0,"sd-loader",20),c(),b(30,Zt,47,46,"section",21),c()()()),e&2&&(a(),v(f(2,18,"WATERMARK")),a(2),s("tabs",t.tabs),a(),s("formGroup",t.globalForm),a(),s("ngIf",t.WatermarkUtils.isFileWatermark(t.selectedTab)),a(),w("border-top",t.WatermarkUtils.isFileWatermark(t.selectedTab)),a(3),E(" ",f(10,20,"IMAGE_WATERMARK")," "),a(4),E(" ",f(14,22,"TEXT_WATERMARK")," "),a(3),s("ngIf",t.WatermarkUtils.isScreenWatermark(t.selectedTab)),a(),s("disabled",!t.selectedControl),ce("color",t.configPanelVisible?"primary":"dark"),a(2),s("ngIf",t.previewMenuVisible&&t.WatermarkUtils.isScreenWatermark(t.selectedTab)),a(4),v(f(24,24,"LIST")),a(2),s("ngForOf",t.currentControls),a(2),s("ngIf",t.selectedControl&&t.WatermarkUtils.isScreenWatermark(t.selectedTab)),a(),s("ngIf",t.previewImage&&t.WatermarkUtils.isFileWatermark(t.selectedTab)),a(),s("ngIf",!t.previewImage&&!t.selectedControl),a(),s("ngIf",t.selectedControl&&t.configPanelVisible))},dependencies:[ye,X,Q,Te,Ae,Re,Ne,De,pt,Ie,Be,Ge,Ue,He,Ye,Je,Ve,Fe,nt,dt,We,lt,y],styles:["[_nghost-%COMP%]{flex-direction:column;width:100%;min-width:1165px}h1[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;margin-bottom:30px;font-size:28px}h1[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{flex:1 1 auto}.config[_ngcontent-%COMP%]{display:flex;flex-direction:column}.config-global[_ngcontent-%COMP%]{flex:0 0 auto;padding:20px 30px}.config-global-item[_ngcontent-%COMP%]{display:flex;align-items:center;height:44px}.config-global-item[_ngcontent-%COMP%]   pu-toggle-button[_ngcontent-%COMP%]{margin-right:16px}.config-global-item-title[_ngcontent-%COMP%]{font-family:NotoSans-Regular,sans-serif;color:#1e1e1e;flex:0 0 auto;margin-right:10px;font-size:16px}.config-global-item-content[_ngcontent-%COMP%]{font-family:NotoSans-Regular,sans-serif;color:#6c6c6c;font-size:14px}.config-global-item-box[_ngcontent-%COMP%]{display:flex;align-items:center}.config-global-item-box[_ngcontent-%COMP%]   pu-toggle-button[_ngcontent-%COMP%]:last-child{margin-left:16px}.config-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;flex:0 0 auto;padding:12px 16px;box-sizing:border-box;border-bottom:1px solid #DADADA}.config-toolbar[_ngcontent-%COMP%]   .ep-button[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{margin-right:2px;font-size:20px}.config-toolbar[_ngcontent-%COMP%]   .ep-button[_ngcontent-%COMP%] + .ep-button[_ngcontent-%COMP%]{margin-left:12px}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{display:flex;margin-left:auto}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .ep-text-button[_ngcontent-%COMP%]{align-items:normal;justify-content:center}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:4px}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .ep-text-button[_ngcontent-%COMP%] + .ep-text-button[_ngcontent-%COMP%]{margin-left:12px}.config-toolbar[_ngcontent-%COMP%]   .more-menu-container[_ngcontent-%COMP%]{position:relative;height:100%}.config-toolbar[_ngcontent-%COMP%]   .more-menu-container[_ngcontent-%COMP%]   .more-menu[_ngcontent-%COMP%]{z-index:1;width:223px;height:65px;position:absolute;padding:20px 16px;top:27px;right:-17px;background-color:#fff;border:solid 1px #DADADA}.config-toolbar[_ngcontent-%COMP%]   .more-menu-container[_ngcontent-%COMP%]   .more-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:25px}.config-toolbar[_ngcontent-%COMP%]   .ep-text-button[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:auto;font-size:20px;display:flex;align-items:center}.config-view[_ngcontent-%COMP%]{display:flex;flex:1 0 auto}.config-list[_ngcontent-%COMP%]{flex:0 0 240px;box-sizing:border-box;border-right:1px solid #DADADA;color:#1e1e1e}.config-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:38px 16px 22px}.config-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 16px;cursor:pointer}.config-list-item[_ngcontent-%COMP%]:hover, .config-list-item.selected[_ngcontent-%COMP%]{background-color:#f4f4f4}.config-list-item[_ngcontent-%COMP%]:hover   .config-list-item-button[_ngcontent-%COMP%]{display:block}.config-list-item[_ngcontent-%COMP%]   .config-list-item-button[_ngcontent-%COMP%]{display:none;font-size:20px}.config-list-item[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{flex:0 0 auto}.config-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:6px;font-family:NotoSans-Regular;font-size:13px}.config-preview[_ngcontent-%COMP%]{position:relative;display:flex;min-height:535px;align-items:center;justify-content:center;flex:1 1 auto;padding:11px 12px;background-color:#f7f8f9}.config-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#fff}.config-preview[_ngcontent-%COMP%]   .preview-watermark[_ngcontent-%COMP%]{position:relative;background-color:#fff}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]{position:absolute;color:#1e1e1e;top:0;width:100%;height:100%;overflow:hidden}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;white-space:nowrap;font-family:NotoSans-Regular}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute}.config-panel[_ngcontent-%COMP%]{flex:0 0 300px;padding:28px 16px;box-sizing:border-box;border-left:1px solid #DADADA;color:#1e1e1e}.config-panel[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:28px}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;height:20px;font-family:NotoSans-Medium;font-size:13px;line-height:13px}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:3px 0 0 2px;cursor:pointer}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:12px}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   pu-toggle-button[_ngcontent-%COMP%]{margin-left:auto}.config-footer[_ngcontent-%COMP%]{display:flex;flex:0 0 auto;padding:15px;box-sizing:border-box;border-top:1px solid #DADADA}.config-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(1){margin-left:auto}.config-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:10px}.align-display[_ngcontent-%COMP%]{width:122px;height:102px;padding:8px;box-sizing:border-box;border:1px solid #DADADA;border-radius:2px}.align-display-item[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;margin-left:27px;border-radius:2px;background-color:#dadada;cursor:pointer}.align-display-item[_ngcontent-%COMP%]:nth-child(3n+1){margin-left:0}.align-display-item[_ngcontent-%COMP%]:nth-child(n+4){margin-top:18px}.align-display-item[_ngcontent-%COMP%]:hover{background-color:#e65800}.align-display-item[_ngcontent-%COMP%]:active{background-color:#d95300}.align-display-item.selected[_ngcontent-%COMP%]{background-color:#ff6100}.text-input[_ngcontent-%COMP%]{width:100%;height:80px;overflow:auto}.text-button[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;box-sizing:border-box;border:1px solid #FFDDA8;border-radius:10px;color:#6c6c6c;background-color:#fff8ed;font-family:NotoSans-Regular;font-size:13px;line-height:13px;cursor:pointer}.text-button[_ngcontent-%COMP%]:hover{border-color:#f79f1a;color:#ff6100}.text-button[_ngcontent-%COMP%]:active{color:#d95300}.text-button-container[_ngcontent-%COMP%]{margin-top:10px}.text-button-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:10px}.image-container[_ngcontent-%COMP%]{display:flex}.image[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0 0 auto}.image-input[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:10px}.slider-container[_ngcontent-%COMP%]{display:flex;align-items:center}.slider-title[_ngcontent-%COMP%]{color:#1e1e1e;font-family:NotoSans-Regular;font-size:13px}.slider-slider[_ngcontent-%COMP%]{flex:0 0 170px}*[_ngcontent-%COMP%] + .slider-slider[_ngcontent-%COMP%]{margin-left:12px}.slider-input[_ngcontent-%COMP%]{flex:0 0 40px;margin-left:8px}.slider.disabled[_ngcontent-%COMP%]   .slider-title[_ngcontent-%COMP%]{color:#c8c8c8}.input-section[_ngcontent-%COMP%]{display:flex}.input-container[_ngcontent-%COMP%] + .input-container[_ngcontent-%COMP%]{margin-left:14px}.input-title[_ngcontent-%COMP%]{color:#6c6c6c;font-family:NotoSans-Regular;font-size:12px}.input-input-value[_ngcontent-%COMP%]{flex:0 0 170px;margin-top:6px}.input-input[_ngcontent-%COMP%]{flex:0 0 40px;margin-left:8px}.input.disabled[_ngcontent-%COMP%]   .input-title[_ngcontent-%COMP%]{color:#6c6c6c;opacity:.5}.font[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(n+2){margin-top:20px}.font-basic[_ngcontent-%COMP%]{display:flex}.font-basic[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:12px}.font-basic-name[_ngcontent-%COMP%]{flex:0 0 140px}.font-basic-size[_ngcontent-%COMP%]{flex:0 0 60px}.font-basic-color[_ngcontent-%COMP%]{width:100%;height:100%}.font-basic-color-container[_ngcontent-%COMP%]{flex:0 0 30px;padding:4px;border:1px solid #DADADA;border-radius:2px}.font-more[_ngcontent-%COMP%]{display:flex}.font-more[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%], .font-more[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex:0 0 28px;height:28px;border-radius:2px;font-size:24px;line-height:28px;cursor:pointer}.font-more[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]:hover, .font-more[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover, .font-more[_ngcontent-%COMP%]   .papycon.selected[_ngcontent-%COMP%], .font-more[_ngcontent-%COMP%]   img.selected[_ngcontent-%COMP%]{background-color:#dadada}.font-more[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:14px}.font-divider[_ngcontent-%COMP%]{flex:0 0 1px;height:28px;background-color:#dadada}.border-top[_ngcontent-%COMP%]{border-top:1px solid #DADADA}"],changeDetection:0}));let n=r;return n})();var oe=(()=>{let r=class r{dialogService;translatePipe;constructor(i,e){this.dialogService=i,this.translatePipe=e}canDeactivate(i){return i.formChanged?(this.dialogService.toggleDialogVisibility(N.WARNING,!0,{size:{width:336,height:280},title:this.translatePipe.transform("CANCEL"),description:this.translatePipe.transform("WATERMARK_CANCEL_DESCRIPTION")}),this.dialogService.dialogEvent$.pipe(T(e=>e.dialogType===N.WARNING&&e.action==="confirm"),z(()=>(this.dialogService.closeCurrentActiveDialog(),!0)))):!0}};C(r,"\u0275fac",function(e){return new(e||r)(A(Z),A(y))}),C(r,"\u0275prov",j({token:r,factory:r.\u0275fac}));let n=r;return n})();var ft=(()=>{let r=class r{};C(r,"\u0275fac",function(e){return new(e||r)}),C(r,"\u0275mod",R({type:r})),C(r,"\u0275inj",W({imports:[Y,te]}));let n=r;return n})();var ni=[{path:"",component:gt,canDeactivate:[oe]}],ut=(()=>{let r=class r{};C(r,"\u0275fac",function(e){return new(e||r)}),C(r,"\u0275mod",R({type:r})),C(r,"\u0275inj",W({imports:[pe.forChild(ni),pe]}));let n=r;return n})();var an=(()=>{let r=class r{};C(r,"\u0275fac",function(e){return new(e||r)}),C(r,"\u0275mod",R({type:r})),C(r,"\u0275inj",W({providers:[oe,ne],imports:[Y,ze,te,mt,je,$e,Ke,Xe,Qe,qe,Ze,Le,rt,ft,ut,st]}));let n=r;return n})();export{dt as a,ne as b,gt as c,oe as d,ft as e,ut as f,an as g};
